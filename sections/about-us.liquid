{% schema %}
{
  "name": "Sobre Nosotros",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Título Principal",
      "default": "Sobre Albino Vino"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtítulo",
      "default": "No hacemos vino para expertos. Hacemos vino para inadaptados."
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Imagen Hero (opcional)"
    },
    {
      "type": "textarea",
      "id": "history",
      "label": "Nuestra Historia",
      "default": "Albino nace en cooperativas extremeñas olvidadas, rescatando uvas que otros descartan por ser \"demasiado pálidas\" o \"demasiado raras\". Creemos que la pureza es aburrida. El mestizaje es éxtasis."
    },
    {
      "type": "textarea",
      "id": "mission",
      "label": "Nuestra Misión",
      "default": "Redistribuir el placer. Cada edición limitada está vinculada a una causa específica. El 15% de cada botella va directo al proyecto. Somos transparentes."
    },
    {
      "type": "textarea",
      "id": "process",
      "label": "Nuestro Proceso",
      "default": "Trabajamos directamente con cooperativas de la España vaciada. Seleccionamos uvas únicas, creamos ediciones limitadas y vinculamos cada lanzamiento a una causa social."
    },
    {
      "type": "text",
      "id": "cooperatives_count",
      "label": "Número de Cooperativas",
      "default": "3"
    },
    {
      "type": "text",
      "id": "cooperatives_text",
      "label": "Texto Cooperativas",
      "default": "Cooperativas extremeñas"
    }
  ],
  "blocks": [
    {
      "type": "value",
      "name": "Valor",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Título del Valor"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descripción"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icono (opcional)"
        }
      ]
    },
    {
      "type": "team_member",
      "name": "Miembro del Equipo",
      "settings": [
        {
          "type": "text",
          "id": "name",
          "label": "Nombre"
        },
        {
          "type": "text",
          "id": "role",
          "label": "Rol"
        },
        {
          "type": "textarea",
          "id": "bio",
          "label": "Biografía"
        },
        {
          "type": "image_picker",
          "id": "photo",
          "label": "Foto"
        }
      ]
    }
  ],
  "max_blocks": 10
}
{% endschema %}

<!-- Hero Sobre Nosotros -->
<section class="px-6 py-24 lg:px-24 border-b border-stone-200 bg-stone-950 text-stone-50 relative overflow-hidden">
  {% if section.settings.hero_image %}
    <img src="{{ section.settings.hero_image | img_url: '1200x' }}" 
         alt="{{ section.settings.title }}"
         class="absolute inset-0 w-full h-full object-cover opacity-20" />
  {% endif %}
  <div class="max-w-4xl mx-auto text-center relative z-10 fade-in-up">
    <h1 class="text-5xl md:text-7xl font-bold tracking-tighter mb-6">{{ section.settings.title }}</h1>
    <p class="text-xl md:text-2xl text-stone-300 font-light">{{ section.settings.subtitle }}</p>
  </div>
</section>

<!-- Nuestra Historia -->
<section class="px-6 py-24 lg:px-24 border-b border-stone-200">
  <div class="max-w-4xl mx-auto fade-in-up">
    <h2 class="text-4xl font-bold mb-8">Nuestra Historia</h2>
    <div class="prose prose-stone max-w-none text-stone-700 leading-relaxed">
      <p class="text-lg mb-6">{{ section.settings.history }}</p>
    </div>
  </div>
</section>

<!-- Misión y Valores -->
<section class="px-6 py-24 lg:px-24 border-b border-stone-200 bg-stone-50/50">
  <div class="max-w-6xl mx-auto">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
      <div class="fade-in-up">
        <h2 class="text-4xl font-bold mb-6">Nuestra Misión</h2>
        <p class="text-stone-700 leading-relaxed text-lg">{{ section.settings.mission }}</p>
      </div>
      <div class="fade-in-up delay-100">
        <h2 class="text-4xl font-bold mb-6">Nuestro Proceso</h2>
        <p class="text-stone-700 leading-relaxed text-lg">{{ section.settings.process }}</p>
      </div>
    </div>

    <!-- Valores -->
    {% if section.blocks.size > 0 %}
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 fade-in-up delay-200">
        {% for block in section.blocks %}
          {% if block.type == 'value' %}
            <div class="p-6 bg-white border border-stone-200">
              {% if block.settings.icon %}
                <img src="{{ block.settings.icon | img_url: '100x' }}" alt="{{ block.settings.title }}" class="w-12 h-12 mb-4" />
              {% endif %}
              <h3 class="text-xl font-bold mb-3">{{ block.settings.title }}</h3>
              <p class="text-stone-600 text-sm">{{ block.settings.description }}</p>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

<!-- Cooperativas -->
<section class="px-6 py-24 lg:px-24 border-b border-stone-200">
  <div class="max-w-4xl mx-auto text-center fade-in-up">
    <h2 class="text-4xl font-bold mb-6">Trabajamos con Cooperativas</h2>
    <p class="text-stone-700 leading-relaxed mb-8 text-lg">
      Rescatamos uvas de cooperativas extremeñas, dando valor a lo que otros descartan. 
      Cada botella es un homenaje a la España vaciada y a quienes la mantienen viva.
    </p>
    <div class="flex items-center justify-center gap-8">
      <div class="text-center">
        <span class="text-5xl font-bold block mb-2">{{ section.settings.cooperatives_count }}</span>
        <span class="text-sm uppercase tracking-widest text-stone-500">{{ section.settings.cooperatives_text }}</span>
      </div>
    </div>
  </div>
</section>

<!-- Equipo (Opcional) -->
{% assign team_members = section.blocks | where: 'type', 'team_member' %}
{% if team_members.size > 0 %}
  <section class="px-6 py-24 lg:px-24 border-b border-stone-200 bg-stone-50/50">
    <div class="max-w-6xl mx-auto">
      <h2 class="text-4xl font-bold mb-12 text-center">El Equipo</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {% for block in team_members %}
          <div class="text-center fade-in-up">
            {% if block.settings.photo %}
              <div class="w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden border-2 border-stone-200">
                <img src="{{ block.settings.photo | img_url: '300x' }}" 
                     alt="{{ block.settings.name }}"
                     class="w-full h-full object-cover" />
              </div>
            {% endif %}
            <h3 class="text-xl font-bold mb-1">{{ block.settings.name }}</h3>
            <p class="text-sm text-red-600 mb-3 uppercase tracking-wide">{{ block.settings.role }}</p>
            <p class="text-sm text-stone-600">{{ block.settings.bio }}</p>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
{% endif %}

<!-- CTA Final -->
<section class="px-6 py-24 lg:px-24">
  <div class="max-w-4xl mx-auto text-center fade-in-up">
    <h2 class="text-4xl font-bold mb-6">¿Quieres formar parte?</h2>
    <p class="text-stone-700 mb-8 text-lg">
      Cada edición es una oportunidad de apoyar una causa. Cada botella, un grito embotellado.
    </p>
    <a href="/products/extasis-albino" class="inline-flex items-center gap-2 bg-stone-950 text-white px-8 py-4 text-xs tracking-widest uppercase hover:bg-red-600 transition-colors">
      Descubre Éxtasis Albino
      <i data-lucide="arrow-right" class="w-4 h-4"></i>
    </a>
  </div>
</section>

